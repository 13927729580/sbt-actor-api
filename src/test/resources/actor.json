{
  "aliases": [
    {
      "type": "bytes",
      "alias": "seq_state"
    },
    {
      "type": "int64",
      "alias": "date"
    },
    {
      "type": "int64",
      "alias": "randomId"
    }
  ],
  "obj-c-prefix": "AM",
  "java-package": "im.actor.api",
  "sections": [
    {
      "title": "Users",
      "package": "users",
      "doc": [
        "Users are objects that secured by accessHash. You can't load user profile by it's id.",
        "You can't send message to user without finding it's object in Updates or by calling",
        "method for user search, contacts import or some other methods.",
        "",
        "Applications need to keep all Users information forever.",
        "",
        "Each User have optional localName - name of user that was set by current user and can be changed",
        "any time by calling EditUserLocalName method."
      ],
      "items": [
        {
          "type": "comment",
          "content": "Model"
        },
        {
          "type": "enum",
          "content": {
            "name": "Sex",
            "values": [
              {
                "name": "Unknown",
                "id": 1
              },
              {
                "name": "Male",
                "id": 2
              },
              {
                "name": "Female",
                "id": 3
              }
            ]
          }
        },
        {
          "type": "enum",
          "content": {
            "name": "UserState",
            "values": [
              {
                "name": "Registered",
                "id": 1
              },
              {
                "name": "Email",
                "id": 2
              },
              {
                "name": "Deleted",
                "id": 3
              }
            ]
          }
        },
        {
          "type": "struct",
          "content": {
            "name": "Avatar",
            "doc": [
              "Avatar of User or Group",
              {
                "type": "reference",
                "argument": "smallImage",
                "description": "  Optional small image of avatar box in 100x100"
              },
              {
                "type": "reference",
                "argument": "largeImage",
                "description": "  Optional large image of avatar box in 200x200"
              },
              {
                "type": "reference",
                "argument": "fullImage",
                "description": "  Optional full screen image of avatar"
              }
            ],
            "attributes": [
              {
                "type": {
                  "type": "opt",
                  "childType": {
                    "type": "struct",
                    "childType": "AvatarImage"
                  }
                },
                "id": 1,
                "name": "smallImage"
              },
              {
                "type": {
                  "type": "opt",
                  "childType": {
                    "type": "struct",
                    "childType": "AvatarImage"
                  }
                },
                "id": 2,
                "name": "largeImage"
              },
              {
                "type": {
                  "type": "opt",
                  "childType": {
                    "type": "struct",
                    "childType": "AvatarImage"
                  }
                },
                "id": 3,
                "name": "fullImage"
              }
            ]
          }
        },
        {
          "type": "struct",
          "content": {
            "name": "FileLocation",
            "doc": [
              "Location of file on server",
              {
                "type": "reference",
                "argument": "fileId",
                "description": "  Unique Id of file"
              },
              {
                "type": "reference",
                "argument": "accessHash",
                "description": "  Access hash of file"
              }
            ],
            "attributes": [
              {
                "type": "int64",
                "id": 1,
                "name": "fileId"
              },
              {
                "type": "int64",
                "id": 2,
                "name": "accessHash"
              }
            ]
          }
        },
        {
          "type": "struct",
          "content": {
            "name": "AvatarImage",
            "doc": [
              "Avatar Image",
              {
                "type": "reference",
                "argument": "fileLocation",
                "description": "  Location of file"
              },
              {
                "type": "reference",
                "argument": "width",
                "description": "  Width of avatar image"
              },
              {
                "type": "reference",
                "argument": "height",
                "description": "  Height of avatar image"
              },
              {
                "type": "reference",
                "argument": "fileSize",
                "description": "  Size of file"
              }
            ],
            "attributes": [
              {
                "type": {
                  "type": "struct",
                  "childType": "FileLocation"
                },
                "id": 1,
                "name": "fileLocation"
              },
              {
                "type": "int32",
                "id": 2,
                "name": "width"
              },
              {
                "type": "int32",
                "id": 3,
                "name": "height"
              },
              {
                "type": "int32",
                "id": 4,
                "name": "fileSize"
              }
            ]
          }
        },
        {
          "type": "struct",
          "content": {
            "name": "Config",
            "doc": [
              "Configuration of system",
              {
                "type": "reference",
                "argument": "maxGroupSize",
                "description": "  Current maximum group size"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "maxGroupSize"
              }
            ]
          }
        },
        {
          "type": "struct",
          "content": {
            "name": "Phone",
            "doc": [
              "Extendend phone information",
              {
                "type": "reference",
                "argument": "phone",
                "description": "  Phone number in international format"
              },
              {
                "type": "reference",
                "argument": "phoneTitle",
                "description": "  Title of phone"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "id"
              },
              {
                "type": "int64",
                "id": 2,
                "name": "accessHash"
              },
              {
                "type": "int64",
                "id": 3,
                "name": "phone"
              },
              {
                "type": "string",
                "id": 4,
                "name": "phoneTitle"
              }
            ]
          }
        },
        {
          "type": "struct",
          "content": {
            "name": "Email",
            "doc": [
              "Extendend email information",
              {
                "type": "reference",
                "argument": "email",
                "description": "  Email"
              },
              {
                "type": "reference",
                "argument": "emailTitle",
                "description": "  Descruption of email"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "id"
              },
              {
                "type": "int64",
                "id": 2,
                "name": "accessHash"
              },
              {
                "type": "string",
                "id": 3,
                "name": "email"
              },
              {
                "type": "string",
                "id": 4,
                "name": "emailTitle"
              }
            ]
          }
        },
        {
          "type": "struct",
          "content": {
            "name": "User",
            "doc": [
              "Main user object",
              {
                "type": "reference",
                "argument": "id",
                "description": "  uid"
              },
              {
                "type": "reference",
                "argument": "accessHash",
                "description": "  user's access hash"
              },
              {
                "type": "reference",
                "argument": "name",
                "description": "  user's name"
              },
              {
                "type": "reference",
                "argument": "localName",
                "description": "  user's local name"
              },
              {
                "type": "reference",
                "argument": "sex",
                "description": "  optional sex of user"
              },
              {
                "type": "reference",
                "argument": "keyHashes",
                "description": "  key hashes of user"
              },
              {
                "type": "reference",
                "argument": "phone",
                "description": "  [DEPRECATED] Phone number of user"
              },
              {
                "type": "reference",
                "argument": "avatar",
                "description": "  avatar of user"
              },
              {
                "type": "reference",
                "argument": "phones",
                "description": "  phones of user"
              },
              {
                "type": "reference",
                "argument": "emails",
                "description": "  emails of user"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "id"
              },
              {
                "type": "int64",
                "id": 2,
                "name": "accessHash"
              },
              {
                "type": "string",
                "id": 3,
                "name": "name"
              },
              {
                "type": {
                  "type": "opt",
                  "childType": "string"
                },
                "id": 4,
                "name": "localName"
              },
              {
                "type": {
                  "type": "opt",
                  "childType": {
                    "type": "enum",
                    "childType": "Sex"
                  }
                },
                "id": 5,
                "name": "sex"
              },
              {
                "type": {
                  "type": "list",
                  "childType": "int64"
                },
                "id": 6,
                "name": "keyHashes"
              },
              {
                "type": "int64",
                "id": 7,
                "name": "phone"
              },
              {
                "type": {
                  "type": "opt",
                  "childType": {
                    "type": "struct",
                    "childType": "Avatar"
                  }
                },
                "id": 8,
                "name": "avatar"
              },
              {
                "type": {
                  "type": "list",
                  "childType": "int32"
                },
                "id": 9,
                "name": "phones"
              },
              {
                "type": {
                  "type": "list",
                  "childType": "int32"
                },
                "id": 10,
                "name": "emails"
              },
              {
                "type": {
                  "type": "enum",
                  "childType": "UserState"
                },
                "id": 11,
                "name": "userState"
              }
            ]
          }
        },
        {
          "type": "rpc",
          "content": {
            "name": "SendAuthCode",
            "header": 1,
            "response": {
              "type": "anonymous",
              "header": 2,
              "attributes": [
                {
                  "type": "string",
                  "id": 1,
                  "name": "smsHash"
                },
                {
                  "type": "bool",
                  "id": 2,
                  "name": "isRegistered"
                }
              ]
            },
            "doc": [
              "Sending SMS with activation code",
              {
                "type": "reference",
                "argument": "phoneNumber",
                "description": "Phone number in international format"
              },
              {
                "type": "reference",
                "argument": "appId",
                "description": "Application ID"
              },
              {
                "type": "reference",
                "argument": "apiKey",
                "description": "Application API key"
              }
            ],
            "attributes": [
              {
                "type": "int64",
                "id": 1,
                "name": "phoneNumber"
              },
              {
                "type": "int32",
                "id": 2,
                "name": "appId"
              },
              {
                "type": "string",
                "id": 3,
                "name": "apiKey"
              }
            ]
          }
        },
        {
          "type": "rpc",
          "content": {
            "name": "EditUserLocalName",
            "header": 96,
            "response": {
              "type": "reference",
              "name": "Seq"
            },
            "doc": [
              "Renaming of user's visible name",
              {
                "type": "reference",
                "argument": "uid",
                "description": "target User's uid"
              },
              {
                "type": "reference",
                "argument": "accessHash",
                "description": "User's accessHash"
              },
              {
                "type": "reference",
                "argument": "name",
                "description": "New user name"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": "int64",
                "id": 2,
                "name": "accessHash"
              },
              {
                "type": "string",
                "id": 3,
                "name": "name"
              }
            ]
          }
        },
        {
          "type": "response",
          "content": {
            "name": "Seq",
            "header": 72,
            "doc": [
              "Sequence response. Methods that return this value must process response in particular order",
              {
                "type": "reference",
                "argument": "seq",
                "description": "  Sequence number of response"
              },
              {
                "type": "reference",
                "argument": "state",
                "description": "  Sequence state of response"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "seq"
              },
              {
                "id": 2,
                "name": "state",
                "type": "int32"
              }
            ]
          }
        },
        {
          "type": "response",
          "content": {
            "name": "Void",
            "header": 50,
            "doc": [
              "Empty response"
            ],
            "attributes": []
          }
        },
        {
          "type": "response",
          "content": {
            "name": "Auth",
            "header": 5,
            "doc": [
              "Authentication result",
              {
                "type": "reference",
                "argument": "publicKeyHash",
                "description": "  Public Key Hash of current authentication"
              },
              {
                "type": "reference",
                "argument": "user",
                "description": "  The authenticated User"
              },
              {
                "type": "reference",
                "argument": "config",
                "description": "  Current config of server"
              }
            ],
            "attributes": [
              {
                "type": "int64",
                "id": 1,
                "name": "publicKeyHash"
              },
              {
                "type": {
                  "type": "struct",
                  "childType": "User"
                },
                "id": 2,
                "name": "user"
              },
              {
                "type": {
                  "type": "struct",
                  "childType": "Config"
                },
                "id": 3,
                "name": "config"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "UserAvatarChanged",
            "header": 16,
            "doc": [
              "Update about avatar changed",
              {
                "type": "reference",
                "argument": "uid",
                "description": "  user's uid"
              },
              {
                "type": "reference",
                "argument": "avatar",
                "description": "  user's new avatar"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": {
                  "type": "opt",
                  "childType": {
                    "type": "struct",
                    "childType": "Avatar"
                  }
                },
                "id": 2,
                "name": "avatar"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "UserNameChanged",
            "header": 32,
            "doc": [
              "Update about name changed",
              {
                "type": "reference",
                "argument": "uid",
                "description": "  user's uid"
              },
              {
                "type": "reference",
                "argument": "name",
                "description": "  user's name"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": "string",
                "id": 2,
                "name": "name"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "UserLocalNameChanged",
            "header": 51,
            "doc": [
              "Update about local name changed",
              {
                "type": "reference",
                "argument": "uid",
                "description": "  user's uid"
              },
              {
                "type": "reference",
                "argument": "localName",
                "description": "  new user's local name"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": {
                  "type": "opt",
                  "childType": "string"
                },
                "id": 2,
                "name": "localName"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "UserPhoneAdded",
            "header": 87,
            "doc": [
              "Update about phone added to user",
              {
                "type": "reference",
                "argument": "uid",
                "description": "  user's id"
              },
              {
                "type": "reference",
                "argument": "phoneId",
                "description": "  added phone id"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": "int32",
                "id": 2,
                "name": "phoneId"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "UserPhoneRemoved",
            "header": 88,
            "doc": [
              "Update about phone removed from user",
              {
                "type": "reference",
                "argument": "uid",
                "description": "  user's id"
              },
              {
                "type": "reference",
                "argument": "phoneId",
                "description": "  removed phone id"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": "int32",
                "id": 2,
                "name": "phoneId"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "PhoneTitleChanged",
            "header": 89,
            "doc": [
              "Update about phone title changed",
              {
                "type": "reference",
                "argument": "phoneId",
                "description": "  phone number"
              },
              {
                "type": "reference",
                "argument": "title",
                "description": "  new title for phone"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 2,
                "name": "phoneId"
              },
              {
                "type": "string",
                "id": 3,
                "name": "title"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "PhoneMoved",
            "header": 101,
            "doc": [
              "Update about phone move",
              {
                "type": "reference",
                "argument": "phoneId",
                "description": "  Phone number id"
              },
              {
                "type": "reference",
                "argument": "uid",
                "description": "  new uid for phone"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "phoneId"
              },
              {
                "type": "int32",
                "id": 2,
                "name": "uid"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "UserEmailAdded",
            "header": 96,
            "doc": [
              "Update about email added to user",
              {
                "type": "reference",
                "argument": "uid",
                "description": "  user's id"
              },
              {
                "type": "reference",
                "argument": "emailId",
                "description": "  added email id"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": "int32",
                "id": 2,
                "name": "emailId"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "UserEmailRemoved",
            "header": 97,
            "doc": [
              "Update about email removed from user",
              {
                "type": "reference",
                "argument": "uid",
                "description": "  user's id"
              },
              {
                "type": "reference",
                "argument": "emailId",
                "description": "  removed email id"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": "int32",
                "id": 2,
                "name": "emailId"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "EmailTitleChanged",
            "header": 98,
            "doc": [
              "Update about email title changed",
              {
                "type": "reference",
                "argument": "emailId",
                "description": "  email id"
              },
              {
                "type": "reference",
                "argument": "title",
                "description": "  new title for email"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "emailId"
              },
              {
                "type": "string",
                "id": 2,
                "name": "title"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "EmailMoved",
            "header": 102,
            "doc": [
              "Update about email move from one user to another",
              {
                "type": "reference",
                "argument": "emailId",
                "description": "  Email id"
              },
              {
                "type": "reference",
                "argument": "uid",
                "description": "  new uid for email"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "emailId"
              },
              {
                "type": "int32",
                "id": 2,
                "name": "uid"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "UserContactsChanged",
            "header": 86,
            "doc": [
              "Update about contact information change",
              {
                "type": "reference",
                "argument": "uid",
                "description": "  user's uid"
              },
              {
                "type": "reference",
                "argument": "phones",
                "description": "  new phones list"
              },
              {
                "type": "reference",
                "argument": "emails",
                "description": "  new emails list"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": {
                  "type": "list",
                  "childType": "int32"
                },
                "id": 2,
                "name": "phones"
              },
              {
                "type": {
                  "type": "list",
                  "childType": "int32"
                },
                "id": 3,
                "name": "emails"
              }
            ]
          }
        },
        {
          "type": "update",
          "content": {
            "name": "UserStateChanged",
            "header": 100,
            "doc": [
              "Update about user state changed",
              {
                "type": "reference",
                "argument": "uid",
                "description": "  user's id"
              },
              {
                "type": "reference",
                "argument": "state",
                "description": "  new user state"
              }
            ],
            "attributes": [
              {
                "type": "int32",
                "id": 1,
                "name": "uid"
              },
              {
                "type": {
                  "type": "enum",
                  "childType": "UserState"
                },
                "id": 2,
                "name": "state"
              }
            ]
          }
        }
      ]
    }
  ]
}
